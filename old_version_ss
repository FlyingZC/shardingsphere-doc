commit 0e8c172eed4fb1be291f9af445f030e2a5c5f1c3
Author: Raigor <raigor.jiang@gmail.com>
Date:   Wed Oct 26 12:03:45 2022 +0800

    Rename `sharding binding table` to `sharding table reference` in DistSQL (#21760)
    
    * Optimize broadcast table rule updater.
    
    * Optimize usage of Collectors.toMap.
    
    * Update documents.
    
    * For #21717, rename `sharding binding table` to `sharding table reference`

diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
index 6e80f757018..2d163b9de7d 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.cn.md
@@ -139,19 +139,19 @@ auditorAlgorithmDefinition:
 - `Sharding Table Rule` 同时支持 `Auto Table` 和 `Table` 两种类型，两者在语法上有所差异，对应配置文件请参考 [数据分片](/cn/user-manual/shardingsphere-jdbc/yaml-config/rules/sharding/) ；
 - 使用 `autoCreativeAlgorithm` 方式指定 `shardingStrategy` 时，将会自动创建新的分片算法，算法命名规则为 `tableName_strategyType_shardingAlgorithmType`，如 `t_order_database_inline`。
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-CREATE SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+CREATE SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-ALTER SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+ALTER SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-DROP SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+DROP SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-bindTableRulesDefinition:
+tableReferenceRuleDefinition:
     (tableName [, tableName] ... )
 ```
-- `ALTER` 会使用新的配置直接覆盖数据库内的绑定表配置
+- `ALTER` 会使用新的配置覆盖数据库内的绑定表配置
 
 ### Broadcast Table Rule
 
@@ -258,22 +258,22 @@ TYPE="standard",SHARDING_COLUMN=another_id,SHARDING_ALGORITHM=database_inline
 DROP DEFAULT SHARDING DATABASE STRATEGY;
 ```
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-CREATE SHARDING BINDING TABLE RULES (t_order,t_order_item),(t_1,t_2);
+CREATE SHARDING TABLE REFERENCE RULE (t_order,t_order_item),(t_1,t_2);
 
-ALTER SHARDING BINDING TABLE RULES (t_order,t_order_item);
+ALTER SHARDING TABLE REFERENCE RULE (t_order,t_order_item);
 
-DROP SHARDING BINDING TABLE RULES;
+DROP SHARDING TABLE REFERENCE RULE;
 
-DROP SHARDING BINDING TABLE RULES (t_order,t_order_item);
+DROP SHARDING TABLE REFERENCE RULE (t_order,t_order_item);
 ```
 
 ### Broadcast Table Rule
 
 ```sql
-CREATE BROADCAST TABLE RULES t_a,t_b;
+CREATE BROADCAST TABLE RULE t_a,t_b;
 
 DROP BROADCAST TABLE RULE t_a;
 ```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
index 6ee562a3a29..0ae383f3ba7 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rdl/rule-definition/sharding.en.md
@@ -139,16 +139,16 @@ auditorAlgorithmDefinition:
 - `Sharding Table Rule` supports both `Auto Table` and `Table` at the same time. The two types are different in syntax. For the corresponding configuration file, please refer to [Sharding](/en/user-manual/shardingsphere-jdbc/yaml-config/rules/sharding/)
 - When using the `autoCreativeAlgorithm` way to specify `shardingStrategy`, a new sharding algorithm will be created automatically. The algorithm naming rule is `tableName_strategyType_shardingAlgorithmType`, such as `t_order_database_inline`
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-CREATE SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+CREATE SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-ALTER SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+ALTER SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-DROP SHARDING BINDING TABLE RULES bindTableRulesDefinition [, bindTableRulesDefinition] ...
+DROP SHARDING TABLE REFERENCE RULE tableReferenceRuleDefinition [, tableReferenceRuleDefinition] ...
 
-bindTableRulesDefinition:
+tableReferenceRuleDefinition:
     (tableName [, tableName] ... )
 ```
 - `ALTER` will overwrite the binding table configuration in the database with the new configuration
@@ -258,22 +258,22 @@ TYPE="standard",SHARDING_COLUMN=another_id,SHARDING_ALGORITHM=database_inline
 DROP DEFAULT SHARDING DATABASE STRATEGY;
 ```
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-CREATE SHARDING BINDING TABLE RULES (t_order,t_order_item),(t_1,t_2);
+CREATE SHARDING TABLE REFERENCE RULE (t_order,t_order_item),(t_1,t_2);
 
-ALTER SHARDING BINDING TABLE RULES (t_order,t_order_item);
+ALTER SHARDING TABLE REFERENCE RULE (t_order,t_order_item);
 
-DROP SHARDING BINDING TABLE RULES;
+DROP SHARDING TABLE REFERENCE RULE;
 
-DROP SHARDING BINDING TABLE RULES (t_order,t_order_item);
+DROP SHARDING TABLE REFERENCE RULE (t_order,t_order_item);
 ```
 
 ### Broadcast Table Rule
 
 ```sql
-CREATE BROADCAST TABLE RULES t_a,t_b;
+CREATE BROADCAST TABLE RULE t_a,t_b;
 
 DROP BROADCAST TABLE RULE t_a;
 ```
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
index d76593bc971..29aa41db4bf 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.cn.md
@@ -39,10 +39,10 @@ tableRule:
 -  支持查询所有分片算法；
 -  支持查询所有分片审计算法。
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-SHOW SHARDING BINDING TABLE RULES [FROM databaseName]
+SHOW SHARDING TABLE REFERENCE RULES [FROM databaseName]
 ```
 
 ### Broadcast Table Rule
@@ -138,17 +138,17 @@ SHOW BROADCAST TABLE RULES [FROM databaseName]
 | name  | 分片规则名称    |
 | nodes | 分片节点       |
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
-| 列                      | 说明      |
-| ----------------------- | -------- |
-| sharding_binding_tables | 绑定表名称 |
+| 列                       | 说明      |
+|--------------------------|---------- |
+| sharding_table_reference | 表关联关系 |
 
 ### Broadcast Table Rule
 
-| 列                | 说明      |
-| ---------------- | -------- |
-| broadcast_tables | 广播表名称 |
+| 列              | 说明      |
+| --------------- | -------- |
+| broadcast_table | 广播表名称 |
 
 ### Sharding Table Rule
 
@@ -303,16 +303,16 @@ mysql> SHOW SHARDING TABLE NODES;
 1 row in set (0.02 sec)
 ```
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-mysql> SHOW SHARDING BINDING TABLE RULES;
-+----------------------+
-| sharding_binding_tables |
-+----------------------+
-| t_order,t_order_item |
-| t1,t2                |
-+----------------------+
+mysql> SHOW SHARDING TABLE REFERENCE RULES;
++--------------------------+
+| sharding_table_reference |
++--------------------------+
+| t_order,t_order_item     |
+| t1,t2                    |
++--------------------------+
 2 rows in set (0.00 sec)
 ```
 
@@ -321,7 +321,7 @@ mysql> SHOW SHARDING BINDING TABLE RULES;
 ```sql
 mysql> SHOW BROADCAST TABLE RULES;
 +------------------------+
-| broadcast_tables |
+| broadcast_table        |
 +------------------------+
 | t_1                    |
 | t_2                    |
diff --git a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
index fe343f14fb4..e1dba88bb8f 100644
--- a/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
+++ b/docs/document/content/user-manual/shardingsphere-proxy/distsql/syntax/rql/rule-query/sharding.en.md
@@ -39,10 +39,10 @@ tableRule:
 -  Support query all sharding algorithms
 -  Support query all sharding audit algorithms
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-SHOW SHARDING BINDING TABLE RULES [FROM databaseName]
+SHOW SHARDING TABLE REFERENCE RULES [FROM databaseName]
 ```
 
 ### Broadcast Table Rule
@@ -138,17 +138,17 @@ SHOW BROADCAST TABLE RULES [FROM databaseName]
 | name   | Sharding rule name   |
 | nodes  | Sharding nodes        |
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
-| Column                  | Description                 | 
-| ----------------------- | --------------------------- |
-| sharding_binding_tables | sharding Binding Table list |
+| Column                   | Description              | 
+| ------------------------ |--------------------------|
+| sharding_table_reference | Sharding table reference |
 
 ### Broadcast Table Rule
 
-| Column             | Description               |
-|--------------------|---------------------------|
-| broadcast_tables   | Broadcast Table list      |
+| Column           | Description         |
+|------------------|---------------------|
+| broadcast_table  | Broadcast table     |
 
 ### Sharding Table Rule
 
@@ -303,16 +303,16 @@ mysql> SHOW SHARDING TABLE NODES;
 1 row in set (0.02 sec)
 ```
 
-### Sharding Binding Table Rule
+### Sharding Table Reference Rule
 
 ```sql
-mysql> SHOW SHARDING BINDING TABLE RULES;
-+----------------------+
-| sharding_binding_tables |
-+----------------------+
-| t_order,t_order_item |
-| t1,t2                |
-+----------------------+
+mysql> SHOW SHARDING TABLE REFERENCE RULES;
++--------------------------+
+| sharding_table_reference |
++--------------------------+
+| t_order,t_order_item     |
+| t1,t2                    |
++--------------------------+
 2 rows in set (0.00 sec)
 ```
 
@@ -320,11 +320,11 @@ mysql> SHOW SHARDING BINDING TABLE RULES;
 
 ```sql
 mysql> SHOW BROADCAST TABLE RULES;
-+------------------------+
-| broadcast_tables       |
-+------------------------+
-| t_1                    |
-| t_2                    |
-+------------------------+
++-----------------------+
+| broadcast_table       |
++-----------------------+
+| t_1                   |
+| t_2                   |
++-----------------------+
 2 rows in set (0.00 sec)
 ```
